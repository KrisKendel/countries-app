<div class="main-container">
    <div class="table-header">
        <button mat-raised-button class="back-button" routerLink="/home">Back</button>

        <div class="search">
            <mat-form-field>
                <mat-label>Search countries</mat-label>
                <input matInput class="input-field" #input (keyup)="applyFilter($event)">
            </mat-form-field>
        </div>

    </div>
    <h2 class="title">Countries table</h2>
    <table class="table" mat-table [dataSource]="dataSource">
        <div class="country-container">
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let country">
                    <h3 class="cell">{{country.name}}</h3>
                </td>
            </ng-container>
            <ng-container matColumnDef="nativeName">
                <th mat-header-cell *matHeaderCellDef> Native name </th>
                <td mat-cell *matCellDef="let country">
                    <h3 class="cell">{{country.nativeName}}</h3>
                </td>
            </ng-container>
            <ng-container matColumnDef="population">
                <th mat-header-cell *matHeaderCellDef> Population </th>
                <td mat-cell class="country-title" *matCellDef="let country">
                    <h2 class="cell">{{ country.population }} </h2>
                </td>
            </ng-container>
            <ng-container matColumnDef="capital">
                <th mat-header-cell *matHeaderCellDef> Capital </th>
                <td mat-cell class="country-title" *matCellDef="let country">
                    <h2 class="cell">{{ country.capital }} </h2>
                </td>
            </ng-container>
            <ng-container matColumnDef="flag">
                <th mat-header-cell *matHeaderCellDef> Flag </th>
                <img *matCellDef="let country" class="flag" onError="this.src='../../assets/images/no-image.png'"
                    src="{{ country.flag }}" alt="flag">
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" routerLink="{{row.name}}"></tr>
        </div>
    </table>
    <mat-spinner *ngIf="this.loaded === false"></mat-spinner>
    <mat-paginator class="paginator" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons>
    </mat-paginator>
</div>